<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notify</title>
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' https://cdn.tailwindcss.com https://kit.fontawesome.com https://www.gstatic.com https://apis.google.com https://accounts.google.com 'unsafe-inline' 'unsafe-eval';
        style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://kit-pro.fontawesome.com;
        font-src 'self' https://fonts.gstatic.com https://kit-pro.fontawesome.com;
        img-src 'self' data: https://www.gstatic.com https://lh3.googleusercontent.com;
        connect-src 'self' https://firestore.googleapis.com https://identitytoolkit.googleapis.com https://securetoken.googleapis.com https://www.googleapis.com https://content.googleapis.com https://classroom.googleapis.com;
        frame-src 'self' https://accounts.google.com https://content.googleapis.com https://content-classroom.googleapis.com;
    ">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Poppins:wght@700&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    
    <script src="https://apis.google.com/js/api.js" async defer></script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        .font-poppins { font-family: 'Poppins', sans-serif; }
        .custom-scrollbar::-webkit-scrollbar { width: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f5f9; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        .fade-enter-from, .fade-leave-to { opacity: 0; transform: scale(0.95); }
        .fade-enter-active, .fade-leave-active { transition: opacity 200ms ease-out, transform 200ms ease-out; }
        .fade-enter-to, .fade-leave-from { opacity: 1; transform: scale(1); }
        .btn-bubbly { transition: transform 0.1s ease-out; }
        .btn-bubbly:active { transform: scale(0.95); }
        .user-profile-menu-container { transition: transform 0.2s ease-out, opacity 0.2s ease-out; transform-origin: top right; }
    </style>
</head>
<body class="bg-gray-100 h-screen overflow-hidden">

    <div class="flex flex-col h-full">

        <header class="bg-white border-b border-gray-200 shadow-sm sticky top-0 z-30 h-16 flex-shrink-0">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <a href="index.html" class="flex items-center space-x-3">
                        <i class="fas fa-paperclip w-7 h-7 text-blue-600"></i>
                        <h1 class="text-2xl font-bold font-poppins text-gray-800">Notify</h1>
                    </a>
                    <div id="auth-buttons" class="flex items-center space-x-2">
                        <a href="login.html" id="login-btn" class="font-poppins inline-block bg-white text-gray-700 font-bold py-1 px-4 rounded-lg border border-gray-300 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-150">
                            Log in
                        </a>
                        <a href="signup.html" id="signup-btn" class="font-poppins inline-block bg-blue-600 text-white font-bold py-1 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-150">
                            Sign up
                        </a>
                        <a href="dashboard.html" id="dashboard-btn" class="font-poppins hidden inline-block bg-blue-600 text-white font-bold py-1 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-150">
                            Dashboard
                        </a>
                        <button id="logout-btn" class="font-poppins hidden inline-block bg-white text-gray-700 font-bold py-1 px-4 rounded-lg border border-gray-300 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-150">
                            Logout
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <main class="flex-grow">
            <section class="bg-white">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 lg:py-24">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                        <div class="text-center lg:text-left">
                            <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold text-gray-900 tracking-tight leading-tight">
                                The Digital Hand-Raiser for the <span class="text-blue-600">Modern Classroom</span>.
                            </h1>
                            <p class="mt-6 max-w-xl mx-auto lg:mx-0 text-lg sm:text-xl text-gray-600">
                                Streamline help requests, minimize disruptions, and create a more focused, inclusive, and efficient learning atmosphere for everyone.
                            </p>
                            <div class="mt-8">
                                <a href="signup.html" class="inline-block bg-blue-600 text-white font-bold py-3 px-8 rounded-lg text-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-150">
                                   Sign up for Notify
                                </a>
                            </div>
                        </div>
                        <div id="image-carousel" class="relative group">
                            <div class="bg-gray-200 rounded-xl aspect-video w-full overflow-hidden">
                                <img id="carousel-image" src="https://placehold.co/1280x720/3b82f6/ffffff?text=Teacher+Dashboard" alt="Notify application dashboard view" class="transition-opacity duration-500 ease-in-out">
                            </div>
                            <button id="prev-slide" class="absolute top-1/2 left-4 -translate-y-1/2 bg-white/50 hover:bg-white/80 p-2 rounded-full text-gray-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300 focus:outline-none focus:ring-2 focus:ring-gray-400">
                                <i class="fas fa-chevron-left w-6 h-6"></i>
                            </button>
                            <button id="next-slide" class="absolute top-1/2 right-4 -translate-y-1/2 bg-white/50 hover:bg-white/80 p-2 rounded-full text-gray-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300 focus:outline-none focus:ring-2 focus:ring-gray-400">
                                <i class="fas fa-chevron-right w-6 h-6"></i>
                            </button>
                            <div id="carousel-dots" class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="py-16">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-12">
                         <h2 class="text-3xl font-bold text-gray-800">A Better Way to Ask for Help</h2>
                         <p class="mt-2 text-gray-500">Designed for students and teachers.</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                        <div class="bg-white p-8 rounded-xl shadow-md">
                            <div class="bg-blue-100 text-blue-600 rounded-full h-12 w-12 flex items-center justify-center mx-auto">
                                <i class="fas fa-users-class w-7 h-7"></i>
                            </div>
                            <h3 class="mt-5 text-xl font-semibold text-gray-800">Inclusive for Students</h3>
                            <p class="mt-2 text-gray-600">Provides a discreet way to ask for help, reducing anxiety for shy or hesitant students and promoting a more inclusive environment.</p>
                        </div>
                        <div class="bg-white p-8 rounded-xl shadow-md">
                             <div class="bg-green-100 text-green-600 rounded-full h-12 w-12 flex items-center justify-center mx-auto">
                                <i class="fas fa-clipboard-list-check w-7 h-7"></i>
                            </div>
                            <h3 class="mt-5 text-xl font-semibold text-gray-800">Organized for Teachers</h3>
                            <p class="mt-2 text-gray-600">Organizes all incoming requests into a simple, first-come, first-served queue on a private dashboard for efficient classroom management.</p>
                        </div>
                        <div class="bg-white p-8 rounded-xl shadow-md">
                             <div class="bg-red-100 text-red-600 rounded-full h-12 w-12 flex items-center justify-center mx-auto">
                                <i class="fas fa-bullhorn-slash w-7 h-7"></i>
                            </div>
                            <h3 class="mt-5 text-xl font-semibold text-gray-800">Focused for Lessons</h3>
                            <p class="mt-2 text-gray-600">Eliminates the physical disruptions of hand-raising, allowing teachers to address needs without derailing the lesson's momentum.</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="bg-white border-t border-gray-200">
             <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 text-center text-gray-500">
                <p>&copy; 2025 Notify. A website created by 4simpleproblems.</p>
             </div>
        </footer>
    </div>
    
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="../firebase-config.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const images = [
                'https://placehold.co/1280x720/3b82f6/ffffff?text=Teacher+Dashboard',
                'https://placehold.co/1280x720/10b981/ffffff?text=Student+Help+Queue',
                'https://placehold.co/1280x720/8b5cf6/ffffff?text=Discreet+Requests'
            ];
            let currentIndex = 0;
            let slideInterval;

            const imageElement = document.getElementById('carousel-image');
            const dotsContainer = document.getElementById('carousel-dots');
            
            if (imageElement && dotsContainer) {
                images.forEach((_, index) => {
                    const dot = document.createElement('button');
                    dot.classList.add('w-2.5', 'h-2.5', 'rounded-full', 'transition-colors', 'duration-300');
                    dot.setAttribute('aria-label', `Go to slide ${index + 1}`);
                    dot.setAttribute('data-index', index);
                    dotsContainer.appendChild(dot);
                });

                const dots = dotsContainer.querySelectorAll('button');

                function updateCarouselUI() {
                    imageElement.style.opacity = '0';
                    setTimeout(() => {
                        imageElement.src = images[currentIndex];
                        imageElement.style.opacity = '1';
                    }, 300);

                    dots.forEach((dot, index) => {
                        dot.classList.toggle('bg-white', index === currentIndex);
                        dot.classList.toggle('bg-white/50', index !== currentIndex);
                    });
                }

                function nextSlide() {
                    currentIndex = (currentIndex + 1) % images.length;
                    updateCarouselUI();
                }

                function prevSlide() {
                    currentIndex = (currentIndex - 1 + images.length) % images.length;
                    updateCarouselUI();
                }
                
                function goToSlide(index) {
                    currentIndex = index;
                    updateCarouselUI();
                    resetInterval();
                }

                function startInterval() {
                    clearInterval(slideInterval);
                    slideInterval = setInterval(nextSlide, 5000);
                }

                function stopInterval() {
                    clearInterval(slideInterval);
                }

                function resetInterval() {
                    stopInterval();
                    startInterval();
                }

                updateCarouselUI();
                startInterval();
            }

            // --- Firebase Auth Logic ---
            if (typeof firebase !== 'undefined' && typeof firebaseConfig !== 'undefined') {
                firebase.initializeApp(firebaseConfig);
                const auth = firebase.auth();
                const loginBtn = document.getElementById('login-btn');
                const signupBtn = document.getElementById('signup-btn');
                const dashboardBtn = document.getElementById('dashboard-btn');
                const logoutBtn = document.getElementById('logout-btn');

                auth.onAuthStateChanged(user => {
                    if (user) {
                        loginBtn.classList.add('hidden');
                        signupBtn.classList.add('hidden');
                        dashboardBtn.classList.remove('hidden');
                        logoutBtn.classList.remove('hidden');
                    } else {
                        loginBtn.classList.remove('hidden');
                        signupBtn.classList.remove('hidden');
                        dashboardBtn.classList.add('hidden');
                        logoutBtn.classList.add('hidden');
                    }
                });

            } else {
                console.error("Firebase is not loaded or firebaseConfig is not defined. Please check your script tags and firebase-config.js file.");
            }
            
            // --- Unified Event Listener ---
            document.body.addEventListener('click', e => {
                const target = e.target.closest('a, button');

                if (!target) return;

                if (target.id === 'logout-btn') {
                    e.preventDefault();
                    firebase.auth().signOut().catch(error => {
                        console.error('Logout Error:', error);
                    });
                } else if (target.id === 'prev-slide') {
                    prevSlide();
                    resetInterval();
                } else if (target.id === 'next-slide') {
                    nextSlide();
                    resetInterval();
                } else if (target.dataset.index) {
                    const index = parseInt(target.dataset.index);
                    goToSlide(index);
                }
            });

            // Prevent carousel from auto-scrolling on hover
            const carousel = document.getElementById('image-carousel');
            if (carousel) {
                carousel.addEventListener('mouseenter', stopInterval);
                carousel.addEventListener('mouseleave', startInterval);
            }
        });
    </script>
</body>
</html>
